{"mappings":"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","sources":["demos/2-list-demo/index.tsx","demos/2-list-demo/ListDemoApp.tsx"],"sourcesContent":["import { h, render } from \"../../src/reflex\";\nimport { trackPerformances, setReflexDebug } from \"../../src/reflex/debug\";\nimport { ListDemoApp } from \"./ListDemoApp\";\n\n// -----------------------------------------------------------------------------\n\nsetReflexDebug( true )\n\nlet renderIndex = 0\nexport function init () {\n\tconst p = trackPerformances(\"Root rendering\")\n\trender( <ListDemoApp render={ init } renderIndex={ renderIndex ++ } />, document.body );\n\tp();\n}\n\ninit();\n","import { h } from \"../../src/reflex\";\nimport { colorList, createUID, foodList, pickRandom, rand } from \"../demoHelpers\";\n\n// ----------------------------------------------------------------------------- DATA MODEL\n// TODO : Convert to state then store\n\nlet _listItems:IListItem[] = []\n\ninterface IListItem {\n\tname\t:string\n\tid\t\t:string\n}\n\nconst clearList = () => { _listItems = [] }\nconst addItem = ( position:\"top\"|\"bottom\", item:IListItem ) => {\n\tif ( position === \"bottom\" )\n\t\t_listItems.push( item )\n\telse\n\t\t_listItems.unshift( item )\n}\nconst removeItem = ( item:IListItem ) => {\n\t_listItems = _listItems.filter( currentItem => currentItem != item )\n}\nconst moveItem = ( item:IListItem, offset:number ) => {\n\tconst index = _listItems.indexOf( item ) + offset\n\tif ( index < 0 || index >= _listItems.length ) return;\n\tremoveItem( item )\n\t_listItems.splice(index, 0, item);\n}\n\n// ----------------------------------------------------------------------------- DEFAULT ITEMS\n\nfunction addRandomItems ( total:number = 0 ) {\n\ttotal ||= rand( 5 + _listItems.length ) + 1\n\tfor ( let i = 0; i < total; i++ ) {\n\t\taddItem(\"bottom\", {\n\t\t\tid: createUID(),\n\t\t\tname: pickRandom(colorList) + \" \" + pickRandom(foodList)\n\t\t})\n\t}\n}\n\nfunction removeRandomItems () {\n\tconst total = rand( _listItems.length ) + 1\n\tfor ( let i = 0; i < total; i++ ) {\n\t\tconst item = pickRandom( _listItems )\n\t\tremoveItem( item )\n\t}\n}\n\n// ----------------------------------------------------------------------------- LIST ITEM\n\nconst listItemStyle = {\n\tborder: `1px solid black`\n}\n\ninterface IListItemProps {\n\titem\t: IListItem\n\trender\t: () => void\n\tkey\t\t?\n}\nfunction ListItem ( props:IListItemProps ) {\n\tfunction removeClicked () {\n\t\tremoveItem( props.item )\n\t\tprops.render();\n\t}\n\tfunction moveUpClicked () {\n\t\tmoveItem( props.item, -1 )\n\t\tprops.render();\n\t}\n\tfunction moveDownClicked () {\n\t\tmoveItem( props.item, +1 )\n\t\tprops.render();\n\t}\n\treturn <tr class=\"ListItem\" data-id={ props.item.id } style={ listItemStyle }>\n\t\t<td>{ props.item.name }</td>\n\t\t{/*<td><button onClick={ moveUpClicked } disabled={ _listItems.length < 2 }>⬆</button></td>*/}\n\t\t{/*<td><button onClick={ moveDownClicked } disabled={ _listItems.length < 2 }>⬇</button></td>*/}\n\t\t<td><button onClick={ moveUpClicked }>⬆</button></td>\n\t\t<td><button onClick={ moveDownClicked }>⬇</button></td>\n\t\t<td><button onClick={ removeClicked }>Remove</button></td>\n\t</tr>\n}\n\n// ----------------------------------------------------------------------------- LIST APP\n\ninterface IListDemoAppProps {\n\trender\t\t\t: () => void\n\t// To force new renders\n\trenderIndex\t\t:number\n}\n\nexport function ListDemoApp ( props:IListDemoAppProps ) {\n\n\tfunction addRandomItemClicked ( max:number = 0 ) {\n\t\taddRandomItems( max );\n\t\tprops.render();\n\t}\n\tfunction removeRandomItemsClicked () {\n\t\tremoveRandomItems();\n\t\tprops.render();\n\t}\n\tfunction clearListClicked () {\n\t\tclearList();\n\t\tprops.render();\n\t}\n\tfunction controlSubmitted ( event:Event ) {\n\t\tevent.preventDefault()\n\t\t// TODO : Implement refs\n\t\tconst nameInput = document.getElementById(\"ListDemoApp_nameInput\") as HTMLInputElement\n\t\tif ( !nameInput.value ) return;\n\t\taddItem(\"top\", {\n\t\t\tname: nameInput.value,\n\t\t\tid: createUID()\n\t\t})\n\t\tnameInput.value = \"\"\n\t\tprops.render();\n\t}\n\n\treturn <div class=\"ListDemoApp\">\n\t\t<div class=\"ListDemoApp_controls\">\n\t\t\t<table>\n\t\t\t\t<button onClick={ e => addRandomItemClicked() }>Add random items to bottom</button>\n\t\t\t\t<button onClick={ e => addRandomItemClicked(1000) }>Add 1000 items to bottom</button>\n\t\t\t\t<button onClick={ removeRandomItemsClicked }>Remove random items</button>\n\t\t\t\t<button onClick={ clearListClicked }>Clear list</button>\n\t\t\t</table>\n\t\t\t<form onSubmit={ controlSubmitted }>\n\t\t\t\t<table>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"ListDemoApp_nameInput\"\n\t\t\t\t\t\ttype=\"text\" name=\"name\" placeholder=\"Name ...\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button type=\"submit\">Add to top</button>\n\t\t\t\t</table>\n\t\t\t</form>\n\t\t</div>\n\t\t<h3>{_listItems.length} element{ _listItems.length> 1 ? 's' : '' }</h3>\n\t\t<table>\n\t\t\t{ _listItems.map( item =>\n\t\t\t\t<ListItem item={ item } key={ item.id } render={ props.render } />\n\t\t\t)}\n\t\t</table>\n\t</div>\n}"],"names":["$leUMy","parcelRequire","$da30bdf05e7ce3d0$var$_listItems","$da30bdf05e7ce3d0$var$addItem","position","item","push","unshift","$da30bdf05e7ce3d0$var$removeItem","filter","currentItem","$da30bdf05e7ce3d0$var$moveItem","offset","index","indexOf","length","splice","$da30bdf05e7ce3d0$var$listItemStyle","border","$da30bdf05e7ce3d0$var$ListItem","props","h","class","id","style","name","onClick","render","$da30bdf05e7ce3d0$export$efa87b5c2f9634c4","addRandomItemClicked","max","total","$hvc62","rand","i","createUID","pickRandom","colorList","foodList","$da30bdf05e7ce3d0$var$addRandomItems","e","$da30bdf05e7ce3d0$var$removeRandomItems","onSubmit","event","preventDefault","nameInput","document","getElementById","value","type","placeholder","map","key","$3AbUl","setReflexDebug","$715908967ac132af$var$renderIndex","$715908967ac132af$export$2cd8252107eb640b","p","trackPerformances","renderIndex","body"],"version":3,"file":"index.9bc98a64.js.map"}